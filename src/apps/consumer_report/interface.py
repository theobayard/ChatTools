import streamlit as st

from src.apps.consumer_report.job import make_consumer_report

with st.sidebar:
    openai_api_key = st.text_input("OpenAI API Key", key="chatbot_api_key", type="password")
    "[Get an OpenAI API key](https://platform.openai.com/account/api-keys)"

st.title("Consumer Report Generator")
st.caption("A consumer report generator powered by OpenAI LLMs and made by Theo Bayard de Volo")

user_request = st.text_input("Consumer Report Request")

if user_request.strip() == "":
    user_request = None

consumer_report = None
if user_request:
    with st.spinner("Creating your report. This may take a few minutes..."):
        consumer_report = make_consumer_report(user_request)
    # consumer_report = {'user_request': 'A coordless vacuum good for an apartment with four busy 24 year old professionals and a cat.', 'product_reports': [{'product_name': 'Dyson V11 Animal', 'ratings': [{'rating_name': 'Suction Power and Performance on Various Surfaces', 'score': 4.7}, {'rating_name': 'Battery Life and Charging Time', 'score': 4.0}, {'rating_name': 'Dust Bin Capacity and Ease of Emptying', 'score': 4.3}, {'rating_name': 'Filtration System Efficiency (for Allergens and Pet Hair)', 'score': 4.8}, {'rating_name': 'Maneuverability and Weight', 'score': 4.5}, {'rating_name': 'Noise Level', 'score': 3.8}, {'rating_name': 'Accessory Tools and Attachments for Pet Hair', 'score': 4.6}, {'rating_name': 'Durability and Build Quality', 'score': 4.5}, {'rating_name': 'Maintenance and Cleaning Requirements', 'score': 4.2}, {'rating_name': 'Storage and Space Efficiency', 'score': 4.4}, {'rating_name': 'Price and Value for Money', 'score': 3.5}, {'rating_name': 'Brand Reputation and Customer Support', 'score': 4.5}, {'rating_name': 'Warranty and Service Options', 'score': 4.2}, {'rating_name': 'User-Friendliness and Controls', 'score': 4.6}, {'rating_name': 'Design and Aesthetics', 'score': 4.7}], 'general_comments': "The Dyson V11 Animal is an excellent fit for an apartment with several occupants and a pet. Its strong suction power is well-suited for different floor types, which is likely a necessity in a populated living space. Additionally, the filtration system is perfect for capturing allergens and pet hair, making it ideal for your scenario. While the battery life is generally good, in a busy apartment, frequent recharges may be needed, possibly limiting availability. Its relatively large bin and the ease of emptying are pluses for busy professionals looking to streamline chores. Its weight and maneuverability make it user-friendly for quick cleanups. The noise level is lower than many other powerful vacuums, which can be an important consideration in a shared space. The included attachments are beneficial for pet owners specifically. The vacuum is durable and requires minimal maintenance. Storing the vacuum is convenient, an important factor in an apartment setting. The primary downside could be the high price point, but the quality and time-saving features might justify the investment for a busy household. Dyson's reputation and customer support are strong, providing reassurance for this investment. Overall, the Dyson V11 Animal is well-suited for your needs, balancing performance with convenience."}, {'product_name': 'Shark ION F80 MultiFLEX', 'ratings': [{'rating_name': 'Suction Power and Performance on Various Surfaces', 'score': 4.1}, {'rating_name': 'Battery Life and Charging Time', 'score': 3.8}, {'rating_name': 'Dust Bin Capacity and Ease of Emptying', 'score': 4.0}, {'rating_name': 'Filtration System Efficiency', 'score': 4.2}, {'rating_name': 'Maneuverability and Weight', 'score': 4.5}, {'rating_name': 'Noise Level', 'score': 3.9}, {'rating_name': 'Accessory Tools and Attachments for Pet Hair', 'score': 4.3}, {'rating_name': 'Durability and Build Quality', 'score': 4.0}, {'rating_name': 'Maintenance and Cleaning Requirements', 'score': 4.2}, {'rating_name': 'Storage and Space Efficiency', 'score': 4.5}, {'rating_name': 'Price and Value for Money', 'score': 3.7}, {'rating_name': 'Brand Reputation and Customer Support', 'score': 4.0}, {'rating_name': 'Warranty and Service Options', 'score': 4.0}, {'rating_name': 'User-Friendliness and Controls', 'score': 4.3}, {'rating_name': 'Design and Aesthetics', 'score': 4.4}], 'general_comments': "The Shark ION F80 MultiFLEX is a suitable cordless vacuum for an apartment housing four young professionals and a cat. It offers strong suction and performs well on various surfaces, a critical aspect for an apartment likely to have a mix of flooring. The vacuum's battery life is reasonable though not exceptional; however, its quick swap feature allows for extended cleaning sessions. Its dust bin capacity is adequate for a small to medium-sized apartment and is easy to empty, minimizing hassle. The filtration system efficiently captures allergens and pet hair, making it a good choice for a household with a cat. Maneuverability and light weight are standouts, as the MultiFLEX technology allows for reaching under furniture easily. Noise level is typical for a vacuum in this category. It comes with specialized tools for pet hair, a plus for cat owners. The build quality is solid, ensuring durability, while maintenance is straightforward, contributing to the vacuum's longevity. When not in use, its compact storage footprint is particularly advantageous for apartment living. While the price point may be slightly higher, the vacuum's design, features, and user-friendliness provide good value for the money. Shark's brand reputation is strong, and customer support is generally well-regarded. The warranty and service options provide additional peace of mind. Overall, the Shark ION F80 MultiFLEX is a great choice for the stated living arrangement, balancing performance and convenience."}, {'product_name': 'BISSELL AirRam 1984', 'ratings': [{'rating_name': 'Suction Power and Performance on Various Surfaces', 'score': 4.0}, {'rating_name': 'Battery Life and Charging Time', 'score': 3.5}, {'rating_name': 'Dust Bin Capacity and Ease of Emptying', 'score': 3.8}, {'rating_name': 'Filtration System Efficiency', 'score': 3.7}, {'rating_name': 'Maneuverability and Weight', 'score': 4.5}, {'rating_name': 'Noise Level', 'score': 3.2}, {'rating_name': 'Accessory Tools and Attachments for Pet Hair', 'score': 3.0}, {'rating_name': 'Durability and Build Quality', 'score': 4.0}, {'rating_name': 'Maintenance and Cleaning Requirements', 'score': 4.2}, {'rating_name': 'Storage and Space Efficiency', 'score': 4.5}, {'rating_name': 'Price and Value for Money', 'score': 4.3}, {'rating_name': 'Brand Reputation and Customer Support', 'score': 4.1}, {'rating_name': 'Warranty and Service Options', 'score': 3.9}, {'rating_name': 'User-Friendliness and Controls', 'score': 4.6}, {'rating_name': 'Design and Aesthetics', 'score': 4.0}], 'general_comments': "The BISSELL AirRam 1984 cordless vacuum is a suitable choice for an apartment shared by four 24-year-old professionals and a cat. It offers strong suction power, easily handling various surfaces and pet hair, though it may require more frequent emptying given the high traffic. The battery life is decent, enabling hassle-free vacuuming without the inconvenience of cords. Its compact design and light weight contribute to easy maneuverability and storage, which is beneficial in a busy, shared space. However, the noise level may be a slight concern during quiet hours, and it does not come with many accessory tools specifically for pet hair. Overall, its maintenance is low-effort, it's relatively durable, and offers good value for the price paid. BISSELL also has a favorable brand reputation, which, along with reasonable customer support, warranty, and service options, can assure you of a satisfactory post-purchase experience. Its user-friendliness and control simplicity, coupled with a sleek design, make it an attractive appliance for young professionals looking to maintain a neat living space."}, {'product_name': 'Tineco A11 Hero', 'ratings': [{'rating_name': 'Suction Power and Performance on Various Surfaces', 'score': 4.2}, {'rating_name': 'Battery Life and Charging Time', 'score': 3.8}, {'rating_name': 'Dust Bin Capacity and Ease of Emptying', 'score': 3.5}, {'rating_name': 'Filtration System Efficiency', 'score': 4.0}, {'rating_name': 'Maneuverability and Weight', 'score': 4.5}, {'rating_name': 'Noise Level', 'score': 3.7}, {'rating_name': 'Accessory Tools and Attachments for Pet Hair', 'score': 4.0}, {'rating_name': 'Durability and Build Quality', 'score': 3.9}, {'rating_name': 'Maintenance and Cleaning Requirements', 'score': 3.5}, {'rating_name': 'Storage and Space Efficiency', 'score': 4.5}, {'rating_name': 'Price and Value for Money', 'score': 4.3}, {'rating_name': 'Brand Reputation and Customer Support', 'score': 4.0}, {'rating_name': 'Warranty and Service Options', 'score': 4.1}, {'rating_name': 'User-Friendliness and Controls', 'score': 4.6}, {'rating_name': 'Design and Aesthetics', 'score': 4.4}], 'general_comments': "The Tineco A11 Hero is well-suited for an apartment shared by busy young professionals with a cat, due to its strong suction on various surfaces, particularly helpful for pet hair removal. Although the battery life may require frequent recharges for a large space, its maneuverability and lightweight design make it a breeze to use throughout an apartment. Its filtration system is efficient for allergens and pet hair, which is beneficial for maintaining a clean environment. However, the dust bin might need to be emptied often due to its size. The vacuum is relatively quiet and offers a variety of attachments tailored for pet hair. It is well-built but will require regular maintenance to keep it functioning properly. The A11 Hero's slim design makes it easy to store, a plus for space efficiency. It's priced competitively and offers good value for its features. Tineco is known for reliable customer support, and the vacuum comes with a satisfactory warranty and service options. The user-friendly controls and attractive design are the icing on the cake, making it an appealing choice for the target user."}, {'product_name': 'Hoover ONEPWR Evolve Pet', 'ratings': [{'rating_name': 'Suction Power and Performance on Various Surfaces', 'score': 4.0}, {'rating_name': 'Battery Life and Charging Time', 'score': 3.5}, {'rating_name': 'Dust Bin Capacity and Ease of Emptying', 'score': 4.2}, {'rating_name': 'Filtration System Efficiency', 'score': 4.3}, {'rating_name': 'Maneuverability and Weight', 'score': 4.5}, {'rating_name': 'Noise Level', 'score': 3.8}, {'rating_name': 'Accessory Tools and Attachments for Pet Hair', 'score': 4.0}, {'rating_name': 'Durability and Build Quality', 'score': 3.7}, {'rating_name': 'Maintenance and Cleaning Requirements', 'score': 4.1}, {'rating_name': 'Storage and Space Efficiency', 'score': 4.6}, {'rating_name': 'Price and Value for Money', 'score': 4.2}, {'rating_name': 'Brand Reputation and Customer Support', 'score': 4.0}, {'rating_name': 'Warranty and Service Options', 'score': 3.9}, {'rating_name': 'User-Friendliness and Controls', 'score': 4.4}, {'rating_name': 'Design and Aesthetics', 'score': 4.1}], 'general_comments': "The Hoover ONEPWR Evolve Pet is a solid choice for a bustling apartment shared by young professionals and a pet. Its suction is strong enough for various surfaces, which makes it versatile for different rooms. The battery life is reasonable for an apartment size, and the charging time is decent. The dust bin capacity should accommodate the hair and dirt accumulated by the pet without frequent emptying. Its filtration system makes it a good choice for those concerned with allergens and pet hair. The vacuum's maneuverability and lightweight design could be beneficial for quick cleanups and storage in limited spaces. The noise level is average compared to other cordless vacuums. Accessories particularly designed for pet hair add value. The build quality might not be the most robust, but satisfactory for its price range. Maintenance is not too cumbersome, which is important for busy individuals. The vacuum's compact storage footprint is a plus for apartments with limited space. The price point offers good value for money, considering its features tailored to pet owners. Hoover is known for reasonable customer support, and the warranty and service options are adequate. Lastly, the controls are intuitive, and the design is modern, contributing to a positive user experience."}, {'product_name': 'Black+Decker POWERSERIES Extreme', 'ratings': [{'rating_name': 'Suction Power and Performance on Various Surfaces', 'score': 4.0}, {'rating_name': 'Battery Life and Charging Time', 'score': 3.5}, {'rating_name': 'Dust Bin Capacity and Ease of Emptying', 'score': 3.5}, {'rating_name': 'Filtration System Efficiency', 'score': 4.0}, {'rating_name': 'Maneuverability and Weight', 'score': 4.5}, {'rating_name': 'Noise Level', 'score': 3.8}, {'rating_name': 'Accessory Tools and Attachments for Pet Hair', 'score': 4.2}, {'rating_name': 'Durability and Build Quality', 'score': 4.0}, {'rating_name': 'Maintenance and Cleaning Requirements', 'score': 4.3}, {'rating_name': 'Storage and Space Efficiency', 'score': 4.5}, {'rating_name': 'Price and Value for Money', 'score': 4.0}, {'rating_name': 'Brand Reputation and Customer Support', 'score': 3.7}, {'rating_name': 'Warranty and Service Options', 'score': 3.5}, {'rating_name': 'User-Friendliness and Controls', 'score': 4.2}, {'rating_name': 'Design and Aesthetics', 'score': 4.0}], 'general_comments': "The Black+Decker POWERSERIES Extreme seems to be a suitable cordless vacuum for a shared apartment with four individuals and a cat. The vacuum provides commendable suction power on various surfaces, which is essential for cleaning diverse messes across an apartment. Its filtration system is efficient in dealing with allergens and pet hair, while the accessory tools enhance its ability to tackle pet hair effectively. The transition from room to room is facilitated by its lightweight and good maneuverability. Noise levels are reasonable, ensuring that it's not too intrusive. Although it has a decent battery life, the need to accommodate multiple users might render the charging time a bit inconvenient. Dust bin capacity is sufficiently large for an apartment, and the vacuum is easy to empty and clean, making maintenance less of a chore. Storage is also space-efficient, a critical factor when living in an apartment with limited space. While the price is fair considering its features, the user gets solid value for the investment. Brand reputation and customer support are quite decent, though not top-of-the-line. Warranty and service options are standard, and the vacuum is user-friendly. In terms of design, it is sleek and would fit well within a modern space. Overall, the Black+Decker POWERSERIES Extreme is a practical choice for a busy apartment, handling the demands of everyday cleaning with adequate capability."}, {'product_name': 'MOOSOO Cordless Vacuum Cleaner', 'ratings': [{'rating_name': 'Suction Power and Performance on Various Surfaces', 'score': 4.0}, {'rating_name': 'Battery Life and Charging Time', 'score': 3.5}, {'rating_name': 'Dust Bin Capacity and Ease of Emptying', 'score': 3.8}, {'rating_name': 'Filtration System Efficiency', 'score': 4.2}, {'rating_name': 'Maneuverability and Weight', 'score': 4.5}, {'rating_name': 'Noise Level', 'score': 3.7}, {'rating_name': 'Accessory Tools and Attachments for Pet Hair', 'score': 4.0}, {'rating_name': 'Durability and Build Quality', 'score': 3.6}, {'rating_name': 'Maintenance and Cleaning Requirements', 'score': 4.1}, {'rating_name': 'Storage and Space Efficiency', 'score': 4.5}, {'rating_name': 'Price and Value for Money', 'score': 4.3}, {'rating_name': 'Brand Reputation and Customer Support', 'score': 3.9}, {'rating_name': 'Warranty and Service Options', 'score': 3.8}, {'rating_name': 'User-Friendliness and Controls', 'score': 4.4}, {'rating_name': 'Design and Aesthetics', 'score': 4.2}], 'general_comments': "The MOOSOO Cordless Vacuum Cleaner offers commendable suction power for apartment living, easily tackling the challenges presented by pet hair and various surfaces. Its battery life is suitable for small to medium-sized apartments, though charging time could be a factor if continuous cleaning is needed. The dust bin capacity is adequate and it is fairly easy to empty, which is convenient for busy professionals. Its multiple attachments make pet hair removal more manageable. Light and maneuverable, it should navigate the confines of an apartment well, but could be quieter during operation. It's generally durable, but may require attention over time, and possesses an efficient filtration system, key for allergy sufferers. The vacuum is space-efficient for storing in small spaces, and it balances price with features, offering good value for money. MOOSOO has a decent brand reputation, with generally positive customer support feedback. The warranty and service options are standard. Controls are user-friendly, making it a good fit for a quick and efficient cleaning experience. Lastly, its sleek design does not compromise the aesthetic of a modern apartment."}, {'product_name': 'Roborock H6 Adapt', 'ratings': [{'rating_name': 'Suction Power and Performance on Various Surfaces', 'score': 4.5}, {'rating_name': 'Battery Life and Charging Time', 'score': 4.0}, {'rating_name': 'Dust Bin Capacity and Ease of Emptying', 'score': 3.5}, {'rating_name': 'Filtration System Efficiency (for Allergens and Pet Hair)', 'score': 4.5}, {'rating_name': 'Maneuverability and Weight', 'score': 4.2}, {'rating_name': 'Noise Level', 'score': 3.8}, {'rating_name': 'Accessory Tools and Attachments for Pet Hair', 'score': 4.3}, {'rating_name': 'Durability and Build Quality', 'score': 4.1}, {'rating_name': 'Maintenance and Cleaning Requirements', 'score': 4.0}, {'rating_name': 'Storage and Space Efficiency', 'score': 4.4}, {'rating_name': 'Price and Value for Money', 'score': 4.0}, {'rating_name': 'Brand Reputation and Customer Support', 'score': 4.2}, {'rating_name': 'Warranty and Service Options', 'score': 4.0}, {'rating_name': 'User-Friendliness and Controls', 'score': 4.6}, {'rating_name': 'Design and Aesthetics', 'score': 4.3}], 'general_comments': "The Roborock H6 Adapt appears to be a great cordless vacuum for an apartment with busy professionals and a pet. It offers strong suction power suitable for various surfaces, combating the challenges of pet hair and dirt. Its battery life is adequate for a typical cleaning session in an apartment, and it recharges relatively quickly. The dust bin is on the smaller side, which may require more frequent emptying, but it's generally user-friendly. It has a high-efficiency filtration system, beneficial for allergens and pet hair, which is crucial for a shared living space. Maneuverability and a range of accessories ensure ease of cleaning in all nooks and crannies, although the noise level is average. It's durable and built to last but will require regular maintenance. The vacuum stores easily, making it ideal for small living quarters. Its price offers good value considering its features and performance. Roborock's reputation is growing with positive customer support experiences, and the product comes with a reasonable warranty. Overall, it is user-friendly with a sleek design, making the Roborock H6 Adapt a strong candidate for the user's needs."}, {'product_name': 'Samsung Jet 70 Pet', 'ratings': [{'rating_name': 'Suction Power and Performance on Various Surfaces', 'score': 4.2}, {'rating_name': 'Battery Life and Charging Time', 'score': 3.8}, {'rating_name': 'Dust Bin Capacity and Ease of Emptying', 'score': 4.0}, {'rating_name': 'Filtration System Efficiency', 'score': 4.3}, {'rating_name': 'Maneuverability and Weight', 'score': 4.5}, {'rating_name': 'Noise Level', 'score': 3.7}, {'rating_name': 'Accessory Tools and Attachments for Pet Hair', 'score': 4.5}, {'rating_name': 'Durability and Build Quality', 'score': 4.0}, {'rating_name': 'Maintenance and Cleaning Requirements', 'score': 4.1}, {'rating_name': 'Storage and Space Efficiency', 'score': 4.6}, {'rating_name': 'Price and Value for Money', 'score': 3.9}, {'rating_name': 'Brand Reputation and Customer Support', 'score': 4.2}, {'rating_name': 'Warranty and Service Options', 'score': 4.0}, {'rating_name': 'User-Friendliness and Controls', 'score': 4.4}, {'rating_name': 'Design and Aesthetics', 'score': 4.3}], 'general_comments': "The Samsung Jet 70 Pet cordless vacuum is well-suited for an apartment setting with young professionals and a pet. It offers strong suction power and performs well on various surfaces, which is crucial for homes with different floor types. The filtration system is efficient, particularly important for capturing allergens and pet hair. The maneuverability and lightweight design make it convenient to use in a busy household, and accessory tools specifically designed for pet hair add to its practicality. While the battery life and charging time are moderate, they should suffice for apartment cleaning. The noise level is reasonable, and the vacuum is not disruptive to a shared environment. Storage is space-efficient, an essential feature for smaller living spaces. Although the price is on the higher end, considering the performance and the reputation of Samsung, it offers value for money. Samsung's brand reputation and customer support, along with a reasonable warranty, ensures peace of mind. Overall, the Samsung Jet 70 Pet could meet the cleaning needs of a busy apartment with pets, providing ease of use, effective cleaning, and stylish design."}, {'product_name': 'LG CordZero A9 Kompressor', 'ratings': [{'rating_name': 'Suction Power and Performance on Various Surfaces', 'score': 4.5}, {'rating_name': 'Battery Life and Charging Time', 'score': 3.8}, {'rating_name': 'Dust Bin Capacity and Ease of Emptying', 'score': 4.0}, {'rating_name': 'Filtration System Efficiency', 'score': 4.2}, {'rating_name': 'Maneuverability and Weight', 'score': 4.3}, {'rating_name': 'Noise Level', 'score': 3.9}, {'rating_name': 'Accessory Tools and Attachments for Pet Hair', 'score': 4.4}, {'rating_name': 'Durability and Build Quality', 'score': 4.0}, {'rating_name': 'Maintenance and Cleaning Requirements', 'score': 4.1}, {'rating_name': 'Storage and Space Efficiency', 'score': 4.5}, {'rating_name': 'Price and Value for Money', 'score': 3.7}, {'rating_name': 'Brand Reputation and Customer Support', 'score': 4.2}, {'rating_name': 'Warranty and Service Options', 'score': 4.0}, {'rating_name': 'User-Friendliness and Controls', 'score': 4.3}, {'rating_name': 'Design and Aesthetics', 'score': 4.4}], 'general_comments': "The LG CordZero A9 Kompressor is a solid choice for an apartment inhabited by young professionals and a cat. Its suction power is well-suited for various surfaces, which means it can handle the mix of flooring commonly found in apartments. The battery life is decent, allowing for cleaning sessions without the hassle of recharging frequently, but it may require planning for larger apartments. Its dust bin is capacious enough for several cleaning sessions, and its compression feature makes emptying easy and mess-free. The filtration system is efficient, capturing allergens and pet hair effectively, which is essential for cohabitation. Maneuverability is one of its strong suits, ensuring that it can reach under furniture and tight corners, although the noise level might be slightly higher than some other models. The pet hair attachment is a bonus for cat owners. Durability seems good, ensuring it can withstand frequent use, and the maintenance is not overly burdensome. It stores neatly, which is valuable in smaller living spaces. Price is on the higher side but considering the features and design, it offers reasonable value for money. LG's reputation and customer support are reassuring, along with its warranty and service options. The controls are user-friendly, and the sleek design is a plus. All in all, it's a competent vacuum that matches the needs of the described living situation quite well."}, {'product_name': 'Eufy HomeVac S11 Go', 'ratings': [{'rating_name': 'Suction Power and Performance on Various Surfaces', 'score': 4.0}, {'rating_name': 'Battery Life and Charging Time', 'score': 3.5}, {'rating_name': 'Dust Bin Capacity and Ease of Emptying', 'score': 4.0}, {'rating_name': 'Filtration System Efficiency', 'score': 4.2}, {'rating_name': 'Maneuverability and Weight', 'score': 4.5}, {'rating_name': 'Noise Level', 'score': 3.9}, {'rating_name': 'Accessory Tools and Attachments for Pet Hair', 'score': 4.3}, {'rating_name': 'Durability and Build Quality', 'score': 4.0}, {'rating_name': 'Maintenance and Cleaning Requirements', 'score': 4.1}, {'rating_name': 'Storage and Space Efficiency', 'score': 4.6}, {'rating_name': 'Price and Value for Money', 'score': 4.4}, {'rating_name': 'Brand Reputation and Customer Support', 'score': 4.0}, {'rating_name': 'Warranty and Service Options', 'score': 3.8}, {'rating_name': 'User-Friendliness and Controls', 'score': 4.5}, {'rating_name': 'Design and Aesthetics', 'score': 4.3}], 'general_comments': "The Eufy HomeVac S11 Go appears to be a solid choice for an apartment inhabited by busy professionals and a cat. Its suction power is strong across a variety of surfaces, and it comes with tools that assist with pet hair, which would be beneficial for the cat's hair. The battery life is reasonable, though not the longest on the market, and it is balanced by a convenient charging time. Its dust bin capacity is ample for an apartment, and it has an efficient filtration system to handle allergens. The vacuum's maneuverability and lightweight design make it an ideal fit for an apartment setting. Additionally, the vacuum rates well in terms of noise level, ensuring it does not disrupt the busy household too much. In terms of the investment, it offers good value for money considering its performance and design. Eufy generally has a positive reputation, and while the warranty and service options are not top-of-the-line, they are reasonable for the product's price point. The vacuum is user-friendly with intuitive controls, and its sleek design means it will not be an eyesore when stored within the apartment."}], 'final_report': "Based on the research provided by my coworker, three cordless vacuum models stand out as the best options for an apartment shared by four 24-year-old professionals and a cat: the Dyson V11 Animal, the Shark ION F80 MultiFLEX, and the LG CordZero A9 Kompressor. Here's a comparison to help you decide between them:\n\n**Dyson V11 Animal:**\n- **Pros:**\n  - Excellent suction power and performance on various surfaces (4.7).\n  - High filtration system efficiency, ideal for allergens and pet hair (4.8).\n  - Good maneuverability and weight for easy use (4.5).\n  - Variety of accessory tools for pet hair (4.6).\n  - Strong brand reputation and customer support (4.5).\n- **Cons:**\n  - Higher price point, which might feel steep for some budgets (3.5).\n  - Battery life is generally good, but might need frequent recharges in a busy apartment (4.0).\n\n**Shark ION F80 MultiFLEX:**\n- **Pros:**\n  - Strong suction and performance on various surfaces (4.1).\n  - Maneuverable and lightweight with MultiFLEX technology (4.5).\n  - Specialized tools for pet hair (4.3).\n  - Solid brand reputation and customer support (4.0).\n  - Good storage and space efficiency (4.5).\n- **Cons:**\n  - Moderate battery life; however, it has a quick swap feature for extended cleaning (3.8).\n  - Price might be higher relative to some other options, though it provides good value (3.7).\n\n**LG CordZero A9 Kompressor:**\n- **Pros:**\n  - Excellent suction power suitable for a variety of surfaces (4.5).\n  - Features like dust bin compression make emptying easy (4.0).\n  - Efficient filtration system (4.2).\n  - Good mix of maneuverability and accessories for pet hair (4.3 for accessories).\n  - Reasonable value for the money given its features and build (3.7).\n- **Cons:**\n  - Battery life may require planning for larger apartments (3.8).\n  - Slightly higher noise level compared to other options (3.9).\n\nWhen choosing between the three, consider the following aspects:\n\n- **Budget constraints:** If the price is a significant factor, each option's value for money should be a determining factor. The LG CordZero A9 Kompressor and the Shark ION F80 MultiFLEX offer good value, with the Dyson V11 being on the higher end.\n  \n- **Battery life requirements:** For a shared space that may require frequent cleaning sessions, you may appreciate the Shark's quick swap battery or the LG CordZero's balance between life and performance.\n  \n- **Performance on pet hair:** If pet hair is a concern, all three options have dedicated tools for dealing with it, but the Dyson V11 and the LG CordZero have slightly higher scores in this category.\n\n- **Space efficiency:** Considering this is an apartment, each unit's storage features and design might be important. All three are designed with space efficiency in mind.\n\nIn conclusion, if budget is less of a constraint and performance for pet hair is paramount, the Dyson V11 Animal is an excellent choice. For those who need longer uninterrupted cleaning sessions with good performance, the Shark ION F80 might be the way to go. Finally, if there is a need for a balanced vacuum with a great mix of features, the LG CordZero A9 Kompressor is a very capable option."}

if consumer_report:
    st.markdown(consumer_report['final_report'])

    st.markdown('## All products considered')
    for product_report in consumer_report['product_reports']:
        with st.expander(product_report['product_name']):
            st.markdown(f"## Review \n{product_report['general_comments']}")

            st.markdown("## Ratings")

            for rating in product_report['ratings']:
                st.markdown(f'- **{rating["rating_name"]}**: {rating["score"]}')


        

